name: Db Clean
on:
  workflow_dispatch:
    inputs:
      file_name:
        description: 'Input file name'
        required: true
jobs:
  clean:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Download file
        id: download
        run: |
          curl -JO -L "https://kindevils.rocks/api/raw/?path=/10%20oct/linkedin%20scrapped%20raw%20data%20(187gb)(1.4tb%20uncompressed)/${{ github.event.inputs.file_name }}.gz&odpt=d900eea2e0814eda40a9464a7b8b01319e77d631d14e328390051743090ff6fe"
          gzip -d ${{ github.event.inputs.file_name }}.gz
          
      - name: Run scripts
        run: |
          npm i fs readline
          node saver.js ${{ github.event.inputs.file_name }}
          node linkedin0.js 
          node linkedin2.js 
          node linkedin3.js
          ls
           curl -X PUT   -H "Authorization: Bearer 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"   -H "Content-Type: application/json"   -d '{
            "message": "Commit message",
            "content": "'"$(base64 -w 0 zedData.txt)"'",
            "branch": "main"
            "sha": "b83e03c32aed9fc918fbfadedd1cc9ce14dcf65a"
             }'   "https://api.github.com/repos/kindevilsorg/cidown/contents/zedData.txt"
             
